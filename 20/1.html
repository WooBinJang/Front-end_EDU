<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="btn">클릭하세요</button>
    <script>
      // "use strict";
      console.log(this); //window
      console.log("---------------전역객체 this---------------");
      function fuc1() {
        console.log(this);
        // window
        // use strict : undefined
      }
      fuc1();
      console.log("---------------function this---------------");

      var item = {
        name: "kim",
        hi: function () {
          console.log(this);
          // 자기가 속한 object
        },
      };
      item.hi();
      console.log("---------------object this---------------");
      var item2 = {
        data: {
          hi: function () {
            console.log(this);
            // 자기가 속한  부모 object
          },
        },
      };
      item2.data.hi();

      // People() 생성자
      function People() {
        (this.name = "lee"), (this.age = 50);
        // this : 새로 만들어진 object
      }
      var obj1 = new People();
      console.log("---------------생성자 this---------------");

      document.querySelector("#btn").addEventListener("click", function (e) {
        console.log(this);
        // 이벤트리스너 안에서 this : 이벤트가 동작하는 대상
        console.log(e.currentTarget);
        // e.currentTarget == this
        console.log("---------------이벤트리스너 this---------------");

        var arr1 = ["2020년", "2021년", "2022년"];
        arr1.forEach(function (a, b, c) {
          console.log("this : " + this);
          //  window
          console.log("a : " + a);
          console.log("b : " + b);
          console.log("c : " + c);
          // 첫번째 인자 : 배열의  value
          // 두번째 인자 : index
          // 세번째 인자 : 배열 전체
        });

        arr1.forEach((a) => {
          console.log("this : " + this); //return : object (button)
          // 화살표 함수의 this
        });
      });
    </script>
  </body>
</html>
